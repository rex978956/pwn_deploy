# pwn_deploy

> A project for deploying ctf pwn challenge use chroot
> Fork from [pwn_deploy_chroot](https://github.com/giantbranch/pwn_deploy_chroot)

## Feature

1. Added timeout for bin
2. Modified to use python3

## Before

```
# Install the latest version docker
curl -s https://get.docker.com/ | sh
# Install docker compose
apt install docker-compose
```

## How to use

```
1. Put your pwn program to ./bin ?Note that the filename should not contain special characters.?
2. python3 initialize.py
3. docker-compose up --build -d     # please run as root
```

You can edit config.py to decide whether to replace /bin/sh with catflag

```
# Whether to replace /bin/sh

## replace
REPLACE_BINSH = True
## not replace(default)
REPLACE_BINSH = False
```

You can edit copyfile/run.sh to add that you want to run with pwn program.

```shell=
#!bin/sh
exec 2>/dev/null
timeout 120 ./$1
echo "\n\ntimeout"
```

## Attention

The flag will be generated by the initialize.py and it store in flags.txt

The port information of the pwn program is also inside the flags.txt.

## Update

2019.04.15 version v1

## Reference

1. https://github.com/Eadom/ctf_xinetd
2. https://github.com/giantbranch/pwn_deploy_chroot
